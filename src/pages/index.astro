---
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/Button.astro";
import Link from "../components/Link.astro";
import { Image } from "astro:assets";
import thumbsup from "../assets/images/thumbsup.png";
import Headerbanner from "../components/Headerbanner.astro";
import Header from "../components/Header.astro";
import Login from "../components/Login.astro";
import Sekundaerknap from "../components/Sekundaerknap.astro";
---

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Oi&display=swap" rel="stylesheet" />

<MainLayout title="Titel">
  <article>
    <Login />
    <Headerbanner />
    <div class="border-b border-l border-r border-base-300 mx-12 md:mx-32 p-20 relative mb-10 pt-[500px]">
      <div class="flex items-center w-full">
        <!-- Oval til højre -->
        <img src="/sorteclipse.svg" alt="" class="absolute right-4 md:right-50 top-2 w-48 md:w-100" />
        <!-- FOOD til venstre -->
        <h1 class="absolute left-[-20px] md:left-[-60px] top-20 text-base-200 text-[45px] md:text-[160px] font-normal oi-regular leading-none">FOOD</h1>
      </div>

      <!-- FESTIVAL -->
      <h1 class="text-base-200 absolute top-32 md:top-65 text-[45px] md:text-[150px] oi-regular leading-none m-0 p-0 left-[40%] -translate-x-1/2
         md:translate-x-0 md:left-[20px]">FESTIVAL</h1>

      <!-- ÅRHUS -->
      <h2 class="text-base-300 absolute right-20 top-35 md:top-80 inria-serif-regular-italic text-right text-[40px] md:text-[170px] leading-none m-0 p-0">ÅRHUS</h2>

      <div class="flex items-start space-x-6">
        <div class="max-w-lg pl-0 md:pl-4 absolute top-0 left-0 md:static md:mt-0 mt-[180px] z-40">
          <p class="noto-sans-sora-sompeng-400 text-[12px] md:text-[20px] mb-2">Glæd dig til tre smagfulde dage fyldt med kulinariske oplevelser, inspiration og aktiviteter for hele familien.</p>
          <p class="noto-sans-sora-sompeng-400 text-[12px] md:text-[20px] mb-2">Mød over 250 passionerede madhåndværkere og producenter, og lad dig forkæle af alt det bedste fra det nordiske køkken.</p>
          <p class="noto-sans-sora-sompeng-400 text-[12px] md:text-[20px] mb-2">Så spis dig igennem 7 festivalområder, deltag i et hav af gratis workshops, gratis showcookninger og meget mere!</p>
          <p class="noto-sans-sora-sompeng-400 text-[12px] md:text-[20px]">Vi ses til en uforglemmelig Food Festival på Tangkrogen i Aarhus!</p>
        </div>

        <img src="/forsidehånd.webp" alt="" class="hidden md:block absolute left-43 md:left-135 bottom-140 md:bottom-[-30px] w-[60%] h-auto max-w-none blink-1" style="transform: scaleX(-1);" />
      </div>

      <div class="absolute left-1/2 md:left-[62%] z-30 -bottom-32 md:-bottom-50" style="transform: translateX(-50%) rotate(-10deg);">
        <div class="relative w-[220px] md:w-[260px] h-auto mx-auto">
          <img src="/billetcard.svg" alt="Billetter" class="w-full h-auto mx-auto" />
          <div class="absolute inset-0 flex flex-col justify-center items-center text-neutral px-2 py-4">
            <div class="flex flex-col items-center space-y-1 md:space-y-2 text-center w-full">
              <h2 class="text-[11px] md:text-[16px] font-semibold leading-tight">BILLETTER</h2>
              <p class="text-[10px] md:text-[13px] leading-tight">Partoutbillet: 170 kr.</p>
              <p class="text-[10px] md:text-[13px] leading-tight">Dagsbillet: 110 kr.</p>
              <p class="text-[10px] md:text-[13px] leading-tight">Studerende &<br />Pensionist rabat</p>
              <p class="text-[10px] md:text-[13px] leading-tight">Børn til og med 10 år <br /> er gratis.</p>
              <a href="/billetoversigt" class="mt-1 md:mt-2">
                <button class="rounded-full w-40 h-16 bg-base-300 border-none flex items-center justify-center text-base-100 cursor-pointer shadow-md transition-all duration-200 hover:bg-info hover:-translate-y-2 brygada-1918-400">KØB HER</button>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </article>

  <div class="overflow-hidden w-full relative mt-20 group sm:mt-50">
    <div id="slideshow" class="flex transition-transform duration-[2000ms] ease-in-out">
      <img src="/img1.webp" alt="" class="max-w-none" />
      <img src="/img2.webp" alt="" class="max-w-none" />
      <img src="/img3.webp" alt="" class="max-w-none" />
      <img src="/img4.webp" alt="" class="max-w-none" />
      <img src="/img5.webp" alt="" class="max-w-none" />
      <img src="/img6.webp" alt="" class="max-w-none" />
      <img src="/img7.webp" alt="" class="max-w-none" />
      <!-- Clone of first slide -->
      <img src="/public/img8.webp" alt="" class="max-w-none" />
      <img src="/public/img9.webp" alt="" class="max-w-none" />
      <img src="/public/img10.webp" alt="" class="max-w-none" />
      <img src="/public/img11.webp" alt="" class="max-w-none" />
    </div>
  </div>

  <div class="">
    <a href="/billetoversigt">
      <h6 class="bg-[#0B5BF8]/5 text-base-300 text-center brygada-1918-400 text-[24px] md:text-[32px] font-bold p-0 md:p-50 hover:text-info transition-colors duration-200">
        Billetterne er billigere online <br />
        - Køb & spar!
      </h6>
    </a>
  </div>

  <!-- Slidende tekstsektioner i hver deres retning med original opsætning -->
  <!-- SLIDER 1 -->
  <!-- SLIDER 1 -->
  <div class="overflow-hidden w-full relative mt-10">
    <a href="/event">
      <div id="text-slider-left" class="flex whitespace-nowrap cursor-pointer" style="will-change: transform;">
        <div class="slider-content flex items-stretch justify-between min-w-full gap-0 border border-base-200 p- flex-wrap md:flex-nowrap min-h-[60px]">
          <div class="flex items-center min-w-0">
            <img src="/hotdog.svg" alt="" class="w-8 md:w-10 flex-shrink-0" />
            <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none ml-2">Hotdog DM 2025 Søndag 12.00 – 16.00</p>
          </div>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="flex items-center noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Mad og kaffe med Emma Martiny</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="flex items-center noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Hvor sidder smagen i bøffen?</p>
        </div>
        <!-- COPY to enable looping -->
        <div class="slider-content flex items-stretch justify-between min-w-full gap-0 border border-base-200 p- flex-wrap md:flex-nowrap min-h-[60px]">
          <div class="flex items-center min-w-0">
            <img src="/hotdog.svg" alt="" class="w-8 md:w-10 flex-shrink-0" />
            <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none ml-2">Hotdog DM 2025 Søndag 12.00 – 16.00</p>
          </div>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="flex items-center noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Mad og kaffe med Emma Martiny</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="flex items-center noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Hvor sidder smagen i bøffen?</p>
        </div>
      </div>
    </a>
  </div>

  <!-- SLIDER 2 -->
  <div class="overflow-hidden w-full relative">
    <a href="/event">
      <div id="text-slider-right" class="flex whitespace-nowrap cursor-pointer overflow-hidden" style="will-change: transform;">
        <div class="slider-content flex items-center justify-between min-w-full gap-0 border border-base-200 p- flex-wrap md:flex-nowrap min-h-[60px]">
          <img src="/ost.svg" alt="" class="w-8 md:w-10 flex-shrink-0" />
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[100px] md:max-w-none ml-2">Unika ostesmagning</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Lær at lave yoghurtbark med Frederik Haun</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Weber Grill Hands On-grillkurser</p>
        </div>

        <div class="slider-content flex items-stretch justify-between min-w-full gap-0 border border-base-200 p- flex-wrap md:flex-nowrap min-h-[60px]">
          <img src="/ost.svg" alt="" class="w-8 md:w-10 flex-shrink-0" />
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[100px] md:max-w-none ml-2">Unika ostesmagning</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Lær at lave yoghurtbark med Frederik Haun</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Weber Grill Hands On-grillkurser</p>
        </div>
      </div>
    </a>
  </div>

  <!-- SLIDER 3 -->
  <div class="overflow-hidden w-full relative">
    <a href="/event">
      <div id="text-slider-left-2" class="flex whitespace-nowrap cursor-pointer" style="will-change: transform;">
        <div class="flex items-center justify-between min-w-full gap-0 border border-base-200 p- flex-wrap md:flex-nowrap min-h-[60px]">
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Pizza Akrobatisk Show af Danilo fra Fontana.</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <div class="flex items-center min-w-0">
            <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium ml-2 truncate max-w-[120px] md:max-w-none">Årets Cocktail 2025 Lørdag 18.00 – 20.00</p>
          </div>
        </div>
        <div class="flex items-center justify-between min-w-full gap-0 border border-base-200 p- flex-wrap md:flex-nowrap min-h-[60px]">
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Pizza Akrobatisk Show af Danilo fra Fontana.</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <div class="flex items-center min-w-0">
            <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium ml-2 truncate max-w-[120px] md:max-w-none">Årets Cocktail 2025 Lørdag 18.00 – 20.00</p>
          </div>
        </div>
      </div>
    </a>
  </div>

  <!-- SLIDER 4 -->
  <div class="overflow-hidden w-full relative">
    <a href="/event">
      <div id="text-slider-right-2" class="flex whitespace-nowrap cursor-pointer" style="will-change: transform;">
        <div class="flex items-center justify-between min-w-full gap-0 border border-base-200 p- flex-wrap md:flex-nowrap min-h-[60px]">
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">DM i Grill Lørdag & Søndag</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Copenhagen Distillery</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Fiskeauktion på Havet</p>
        </div>
        <div class="flex items-center justify-between min-w-full gap-0 border border-base-200 p- flex-wrap md:flex-nowrap min-h-[60px]">
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">DM i Grill Lørdag & Søndag</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Copenhagen Distillery</p>
          <div class="w-[2px] bg-base-200 h-full"></div>
          <p class="noto-sans-sora-sompeng-400 text-[10px] md:text-[20px] font-medium truncate max-w-[120px] md:max-w-none">Fiskeauktion på Havet</p>
        </div>
      </div>
    </a>
  </div>

  <script>
    function animateSlider(sliderId, direction = "left", speed = 1) {
      const slider = document.getElementById(sliderId);
      if (!slider) return;

      let currentX = 0;

      const update = () => {
        const maxScroll = slider.scrollWidth / 2;

        // Bevæg slider
        currentX += direction === "left" ? -speed : speed;

        // Reset når den har scrollet én fuld længde
        if (Math.abs(currentX) >= maxScroll) {
          currentX = 0;
        }

        // Flyt slider visuelt
        slider.style.transform = `translateX(${currentX}px)`;
        slider.style.transition = "transform 0s"; // ingen forsinkelse

        requestAnimationFrame(update);
      };

      update();
    }

    // Start sliders
    animateSlider("text-slider-left", "left", 1);
    animateSlider("text-slider-left-2", "left", 1);
    animateSlider("text-slider-right", "right", 1);
    animateSlider("text-slider-right-2", "right", 1);
  </script>

  <a href="/event" class="text-base-300 text-center text-[24px] md:text-[40px] underline block mb-50 mt-10 hover:text-info transition-colors duration-200"> SE HELE PROGRAMMET HER </a>
</MainLayout>

<script>
  const slideshow = document.getElementById("slideshow");
  const slideWidth = slideshow.scrollWidth / 2; // Halvdelen er nok, da vi har dubleret billederne
  let currentX = 0;

  function animate() {
    currentX -= 200; // lavere = langsommere
    if (Math.abs(currentX) >= slideWidth) {
      // Her justerer vi uden hak
      currentX += slideWidth;
    }
    slideshow.style.transform = `translateX(${currentX}px)`;
    requestAnimationFrame(animate);
  }

  animate();
</script>

<style>
  @keyframes slide-left {
    0% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(-100%);
    }
  }

  @keyframes slide-right {
    0% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(100%);
    }
  }

  .animate-slide-left {
    animation: slide-left 30s linear infinite;
  }

  .animate-slide-right {
    animation: slide-right 30s linear infinite;
  }
</style>
